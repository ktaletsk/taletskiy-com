<!DOCTYPE html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} - {{ .Site.Title }}{{ end }}</title>
        
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
        <meta property="og:url" content="{{ .Permalink }}">
        <meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}">
        <meta property="og:description" content="{{ with .Description }}{{ . }}{{ else }}{{ with .Summary }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}{{ end }}">
        {{ with .Params.image }}
        <meta property="og:image" content="{{ . | absURL }}">
        <meta property="og:image:secure_url" content="{{ . | absURL }}">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="1408">
        <meta property="og:image:height" content="788">
        {{ else }}
        <meta property="og:image" content="{{ .Site.Params.profile_image | absURL }}">
        {{ end }}
        
        <!-- Twitter -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content="{{ .Permalink }}">
        <meta name="twitter:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}">
        <meta name="twitter:description" content="{{ with .Description }}{{ . }}{{ else }}{{ with .Summary }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}{{ end }}">
        {{ with .Params.image }}
        <meta name="twitter:image" content="{{ . | absURL }}">
        <meta name="twitter:image:alt" content="{{ $.Title }}">
        {{ else }}
        <meta name="twitter:image" content="{{ .Site.Params.profile_image | absURL }}">
        {{ end }}
        
        <!-- Favicon here-->
        <link rel="apple-touch-icon" sizes="180x180" href="{{ .Site.BaseURL }}favicon_io/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="{{ .Site.BaseURL }}favicon_io/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="{{ .Site.BaseURL }}favicon_io/favicon-16x16.png">
        <link rel="manifest" href="{{ .Site.BaseURL }}favicon_io/site.webmanifest">        
        <link rel="preload" href="https://cdn.tailwindcss.com" as="script">
        <link rel="preload" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" as="style">
        
        <!-- issues fix code for FOUC -->
        <style>
            html, body {
                background-color: #121212;
                color: #f3f4f6;
            }            
            .border {
                border-color: #374151;
            }            
            .carousel-item {
                display: inline-block;
                margin: 0 1rem;
            }            
            .flex {
                display: flex;
            }
            .flex-col {
                flex-direction: column;
            }
            
            @media (min-width: 768px) {
                .md\:flex-row {
                    flex-direction: row;
                }
            }
            
            .tech-carousel {
                overflow: hidden;
                width: 100%;
                padding: 1rem 0;
            }
            
            .carousel-track {
                white-space: nowrap;
            }
        </style>
        
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        typography: {
                            DEFAULT: {
                                css: {
                                    color: '#f3f4f6',
                                    h1: {
                                        color: '#f3f4f6',
                                    },
                                    h2: {
                                        color: '#f3f4f6',
                                    },
                                    h3: {
                                        color: '#f3f4f6',
                                    },
                                    h4: {
                                        color: '#f3f4f6',
                                    },
                                    strong: {
                                        color: '#f3f4f6',
                                    },
                                    a: {
                                        color: '#3b82f6',
                                        '&:hover': {
                                            color: '#60a5fa',
                                        },
                                    },
                                    ul: {
                                        li: {
                                            '&::before': {
                                                backgroundColor: '#6b7280',
                                            },
                                        },
                                    },
                                    ol: {
                                        li: {
                                            '&::before': {
                                                color: '#6b7280',
                                            },
                                        },
                                    },
                                    blockquote: {
                                        borderLeftColor: '#4b5563',
                                        color: '#9ca3af',
                                    },
                                    hr: {
                                        borderColor: '#374151',
                                    },
                                    pre: {
                                        backgroundColor: '#1e293b',
                                    },
                                    code: {
                                        color: '#e2e8f0',
                                        backgroundColor: '#1e293b',
                                    },
                                    'pre code': {
                                        backgroundColor: 'transparent',
                                    },
                                }
                            }
                        }
                    },
                },
                plugins: [
                    function({addComponents}) {
                        addComponents({
                            '.prose': {
                                '& h1': { fontSize: 'clamp(1.75rem, 5vw, 2.25rem)', fontWeight: '800', marginBottom: '1rem', marginTop: '1.5rem' },
                                '& h2': { fontSize: 'clamp(1.5rem, 4vw, 1.8rem)', fontWeight: '700', marginBottom: '0.75rem', marginTop: '1.5rem' },
                                '& h3': { fontSize: 'clamp(1.25rem, 3.5vw, 1.5rem)', fontWeight: '600', marginBottom: '0.75rem', marginTop: '1.25rem' },
                                '& h4': { fontSize: 'clamp(1.125rem, 3vw, 1.25rem)', fontWeight: '600', marginBottom: '0.5rem', marginTop: '1rem' },
                                '& p': { marginBottom: '1rem', lineHeight: '1.75', fontSize: 'clamp(0.9rem, 2.5vw, 1rem)' },
                                '& ul': { listStyleType: 'disc', marginLeft: '1.5rem', marginBottom: '1rem' },
                                '& ol': { listStyleType: 'decimal', marginLeft: '1.5rem', marginBottom: '1rem' },
                                '& li': { marginBottom: '0.5rem', fontSize: 'clamp(0.9rem, 2.5vw, 1rem)' },
                                '& blockquote': { borderLeftWidth: '4px', paddingLeft: '1rem', fontStyle: 'italic', marginBottom: '1rem' },
                                '& pre': { padding: '1rem', borderRadius: '0.375rem', marginBottom: '1rem', overflow: 'auto', fontSize: 'clamp(0.8rem, 2vw, 0.875rem)' },
                                '& code': { padding: '0.25rem 0.375rem', borderRadius: '0.25rem', fontSize: 'clamp(0.8rem, 2vw, 0.875rem)' },
                                '& img': { marginBottom: '1rem', maxWidth: '100%', height: 'auto' },
                                '& a': { textDecoration: 'underline', wordBreak: 'break-word' },
                                '& hr': { marginTop: '2rem', marginBottom: '2rem' },
                                '& strong': { fontWeight: '700' },
                                '& em': { fontStyle: 'italic' },
                            },
                            '.prose-invert': {
                                color: '#f3f4f6',
                                '& a': { color: '#60a5fa' },
                                '& blockquote': { borderLeftColor: '#4b5563', color: '#9ca3af' },
                                '& code': { backgroundColor: '#1e293b', color: '#e2e8f0' },
                            },
                        });
                    },
                ],
            }
        </script>
        <link rel="stylesheet" type='text/css' href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
        <script>
            // On page load or when changing themes, best to add inline in `head` to avoid FOUC
            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        </script>
        <style>
            :root {
                color-scheme: dark;
            }
            
            body {
                @apply bg-[#121212] text-gray-100;
            }

            .tech-icon {
                filter: grayscale(100%) brightness(200%);
                transition: all 0.3s ease;
            }
            .tech-icon:hover {
                filter: none;
            }
            
            @keyframes scroll {
                0% {
                    transform: translateX(0);
                }
                100% {
                    transform: translateX(-100%);
                }
            }
            
            .tech-carousel {
                width: 100%;
                padding: 1rem 0;
            }
            
            .tech-track {
                width: fit-content;
                animation: scroll 20s linear infinite;
            }
            
            .tech-track:hover {
                animation-play-state: paused;
            }
            
            .tech-slide {
                float: left;
            }
            
            /* Responsive embedded content */
            .prose iframe {
                max-width: 100%;
                width: 100%;
            }
            
            .prose img {
                max-width: 100%;
                height: auto;
            }
            
            /* Code in headings - make it prominent */
            .prose h1 code,
            .prose h2 code,
            .prose h3 code,
            .prose h4 code {
                font-size: inherit;
                font-weight: inherit;
                background: rgba(59, 130, 246, 0.15);
                color: #93c5fd;
                padding: 0.1em 0.4em;
                border-radius: 0.25rem;
            }
            
            /* Table styling */
            .prose table {
                width: 100%;
                border-collapse: collapse;
                margin: 1.5rem 0;
                font-size: 0.9rem;
                overflow-x: auto;
                display: block;
            }
            
            .prose th,
            .prose td {
                border: 1px solid #374151;
                padding: 0.75rem 1rem;
                text-align: left;
            }
            
            .prose th {
                background: #1f2937;
                font-weight: 600;
                color: #e5e7eb;
                white-space: nowrap;
            }
            
            .prose tr:nth-child(even) {
                background: rgba(31, 41, 55, 0.3);
            }
            
            .prose tr:hover {
                background: rgba(55, 65, 81, 0.4);
            }
            
            .prose tbody tr:first-child td {
                border-top: 2px solid #374151;
            }
            
            /* Make tables scrollable on mobile */
            @media (max-width: 768px) {
                .prose table {
                    font-size: 0.8rem;
                }
                
                .prose th,
                .prose td {
                    padding: 0.5rem 0.75rem;
                }
            }
            
            .video-container {
                position: relative;
                padding-bottom: 56.25%; /* 16:9 aspect ratio */
                height: 0;
                overflow: hidden;
                max-width: 100%;
                margin-bottom: 1rem;
            }
            
            .video-container iframe {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body class="min-h-screen bg-[#121212] text-gray-100">
        {{ partial "header" . }}
        <main>
            {{ block "main" . }}{{ end }}
        </main>
        {{ partial "footer" . }}
        
        <!-- 100% privacy-first analytics -->
        <script data-collect-dnt="true" async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
        <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif?collect-dnt=true" alt="" referrerpolicy="no-referrer-when-downgrade"/></noscript>
    </body>
</html>
